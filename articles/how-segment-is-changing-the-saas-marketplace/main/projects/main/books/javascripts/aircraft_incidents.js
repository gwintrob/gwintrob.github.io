var YEARS = ['Year', 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015];
var ALL_FATALITIES = ['Worldwide', 1307, 1126, 870, 788, 1042, 503, 957, 893, 426, 1204, 697, 1118, 878, 559, 278, 653, 1033, 678, 880, 340, 1375, 693, 643, 451, 593, 553, 627, 200, 162, 493, 776, 332, 410, 667, 743, 363, 367, 197, 955, 193];
var US_FATALITIES = ['USA', 7, 81, 205, 20, 19, 13, 153, 16, 31, 81, 89, 63, 20, 62, 8, 88, 27, 30, 205, 9, 352, 36, 0, 217, 100, 276, 4, 23, 0, 20, 0, 0, 0, 49, 0, 1, 1, 8, 0, 0];
var ALL_SURVIVOR_RATE = ['Worldwide', 0.42028985507246375, 0.36363636363636365, 0.42857142857142855, 0.34285714285714286, 0.43548387096774194, 0.4489795918367347, 0.5, 0.31746031746031744, 0.5116279069767442, 0.55, 0.4166666666666667, 0.4492753623188406, 0.3783783783783784, 0.3373493975903614, 0.29577464788732394, 0.417910447761194, 0.37681159420289856, 0.31521739130434784, 0.38333333333333336, 0.2328767123287671, 0.32432432432432434, 0.21875, 0.2857142857142857, 0.3902439024390244, 0.3333333333333333, 0.2553191489361702, 0.28888888888888886, 0.14705882352941177, 0.19230769230769232, 0.1951219512195122, 0.30434782608695654, 0.15384615384615385, 0.14285714285714285, 0.16129032258064516, 0.20588235294117646, 0.14285714285714285, 0.16666666666666666, 0.19230769230769232, 0.45, 0.25];
var US_SURVIVOR_RATE = ['USA', 0.2, 0.375, 0.43478260869565216, 0.25, 0.375, 0.16666666666666666, 0.25, 0.2, 0.5, 0.625, 0.5, 0.2777777777777778, 0.3333333333333333, 0.625, 0.3, 0.6666666666666666, 0.4166666666666667, 0.45454545454545453, 0.42857142857142855, 0.2857142857142857, 0.3333333333333333, 0.75, 0, 0.2, 0.3333333333333333, 0.7142857142857143, 0.3333333333333333, 1, 0, 0.3333333333333333, 0, 1, 0, 0.3333333333333333, 0, 0, 1, 0, 1, 0];
var ALL_FATALITY_RATE = ['Worldwide', 0.4945138100643208, 0.41519174041297935, 0.3013508832698303, 0.2955738934733683, 0.3365633074935401, 0.36239193083573484, 0.35080645161290325, 0.31938483547925606, 0.3307453416149068, 0.4413489736070381, 0.2981180496150556, 0.5306122448979592, 0.2445682451253482, 0.14796188459502382, 0.09353970390309556, 0.26983471074380166, 0.3529210796036898, 0.16169806820891963, 0.32484311554079, 0.11988716502115655, 0.4699248120300752, 0.2619047619047619, 0.23322451940515052, 0.22835443037974684, 0.2458540630182421, 0.21551052221356196, 0.2982873453853473, 0.1273074474856779, 0.11440677966101695, 0.18111682586333577, 0.4865203761755486, 0.11531781868704412, 0.13290113452188007, 0.27414714344430746, 0.3498116760828625, 0.15666810530858868, 0.2838360402165507, 0.171602787456446, 0.7938487115544473, 0.5545977011494253];
var US_FATALITY_RATE = ['USA', 0.023728813559322035, 0.6532258064516129, 0.2408930669800235, 0.052083333333333336, 0.08050847457627118, 0.08441558441558442, 0.3200836820083682, 0.16, 0.4305555555555556, 0.2988929889298893, 0.37083333333333335, 0.12475247524752475, 0.030120481927710843, 0.10598290598290598, 0.028368794326241134, 0.4131455399061033, 0.06221198156682028, 0.09966777408637874, 0.6996587030716723, 0.015410958904109588, 0.7553648068669528, 0.9473684210526315, 0, 0.5191387559808612, 0.2159827213822894, 0.4394904458598726, 0.023809523809523808, 1, 0, 0.1342281879194631, 0, 0, 0, 0.23333333333333334, 0, 0.06666666666666667, 1, 0.024539877300613498, 0, 0];

$(function () {
  c3.generate({
    bindto: '#chart-fatalities',
    data: {
      x: 'Year',
      columns: [
        YEARS,
        ALL_FATALITIES,
        US_FATALITIES
      ]
    },
  });

  c3.generate({
    bindto: '#chart-survivors',
    data: {
      x: 'Year',
      columns: [
        YEARS,
        ALL_SURVIVOR_RATE,
        US_SURVIVOR_RATE
      ],
      hide: ['USA']
    },
    axis: {
      y: {
        tick: {
          format: d3.format('%.2')
        }
      }
    },
    tooltip: {
      format: {
        value: d3.format('%.2')
      }
    }
  });

  c3.generate({
    bindto: '#chart-fatality-rate',
    data: {
      x: 'Year',
      columns: [
        YEARS,
        ALL_FATALITY_RATE,
        US_FATALITY_RATE
      ],
      hide: ['USA']
    },
    axis: {
      y: {
        tick: {
          format: d3.format('%.2')
        }
      }
    },
    tooltip: {
      format: {
        value: d3.format('%.2')
      }
    }
  });
});