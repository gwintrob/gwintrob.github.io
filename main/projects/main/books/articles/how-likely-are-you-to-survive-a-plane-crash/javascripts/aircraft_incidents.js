var YEARS = ['Year', 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015];
var ALL_FATALITIES = ['Worldwide', 184, 690, 150, 45, 16, 6, 217, 61, 35, 135, 71, 318, 72, 193, 15, 232, 0, 72, 187, 62, 589, 82, 274, 277, 1, 18, 75, 102, 44, 375, 616, 143, 494, 610, 1024, 749, 724, 468, 1322, 258];
var US_FATALITIES = ['USA', 0, 63, 135, 1, 2, 0, 154, 10, 0, 32, 64, 0, 0, 0, 0, 0, 0, 0, 68, 0, 0, 0, 0, 217, 0, 18, 0, 0, 0, 0, 0, 3, 37, 76, 53, 48, 43, 71, 41, 12];
var ALL_SURVIVOR_RATE = ['Worldwide', 0.816479401, 0.817073171, 0.850144092, 0.816513761, 0.830769231, 0.819852941, 0.802419355, 0.815899582, 0.819742489, 0.85440613, 0.844537815, 0.836363636, 0.868525896, 0.908745247, 0.892720307, 0.89958159, 0.883018868, 0.934545455, 0.922077922, 0.936090226, 0.891566265, 0.948275862, 0.942222222, 0.945701357, 0.948979592, 0.980952381, 0.959390863, 0.960199005, 0.971910112, 0.948453608, 0.921875, 0.928571429, 0.85106383, 0.73125, 0.691358025, 0.668831169, 0.593548387, 0.554744526, 0.525, 0.619047619];
var US_SURVIVOR_RATE = ['USA', 0.9875, 0.964285714, 0.959459459, 1, 0.957983193, 0.990825688, 0.931818182, 0.952941176, 0.987654321, 0.965811966, 0.959459459, 0.97826087, 0.987179487, 0.986666667, 0.98630137, 1, 1, 1, 0.959183673, 1, 0.982758621, 1, 1, 0.981481481, 0.980392157, 0.983606557, 0.982142857, 1, 1, 1, 1, 0.973684211, 0.815789474, 0.6875, 0.517241379, 0.651162791, 0.454545455, 0.424242424, 0.44, 0.4];
var ALL_FATALITY_RATE = ['Worldwide', 0.048548813, 0.176832394, 0.034706155, 0.011547344, 0.003582624, 0.002326483, 0.052644347, 0.017183099, 0.0163781, 0.034351145, 0.022201376, 0.11126662, 0.015720524, 0.03713681, 0.00362494, 0.058793715, 0, 0.01300813, 0.050870511, 0.014469078, 0.139243499, 0.021983914, 0.066878204, 0.073087071, 0.000266454, 0.004582485, 0.022515761, 0.040189125, 0.020174232, 0.093820365, 0.244735797, 0.038922156, 0.132014965, 0.177842566, 0.351890034, 0.251005362, 0.356650246, 0.245283019, 0.747314867, 0.504892368];
var US_FATALITY_RATE = ['US', 0, 0.113105925, 0.103926097, 0.001310616, 0.003577818, 0, 0.195679797, 0.026666667, 0, 0.045454545, 0.15274463, 0, 0, 0, 0, 0, 0, 0, 0.160756501, 0, 0, 0, 0, 0.373493976, 0, 0.021791768, 0, 0, 0, 0, 0, 0.027777778, 0.165919283, 0.147286822, 0.588888889, 0.333333333, 0.5, 0.174876847, 0.611940299, 0.083333333];

$(function () {
  c3.generate({
    bindto: '#chart-fatalities',
    data: {
      x: 'Year',
      columns: [
        YEARS,
        ALL_FATALITIES,
        US_FATALITIES
      ]
    },
  });

  c3.generate({
    bindto: '#chart-survivors',
    data: {
      x: 'Year',
      columns: [
        YEARS,
        ALL_SURVIVOR_RATE,
        US_SURVIVOR_RATE
      ]
    },
    axis: {
      y: {
        tick: {
          format: d3.format('%.2')
        }
      }
    },
    tooltip: {
      format: {
        value: d3.format('%.2')
      }
    }
  });

  c3.generate({
    bindto: '#chart-fatality-rate',
    data: {
      x: 'Year',
      columns: [
        YEARS,
        ALL_FATALITY_RATE,
        US_FATALITY_RATE
      ]
    },
    axis: {
      y: {
        tick: {
          format: d3.format('%.2')
        }
      }
    },
    tooltip: {
      format: {
        value: d3.format('%.2')
      }
    }
  });
});